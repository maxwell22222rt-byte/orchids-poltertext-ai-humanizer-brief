# King Model Architecture Diagram

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         USER INPUT (Frontend)                           │
│                      Text + Model Selection                             │
│                  (Ghost Mini / Ghost Pro / King)                        │
└────────────────────────────────┬────────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         Next.js API Route                               │
│                   /api/humanize or /api/paraphrase                      │
│                                                                          │
│  ┌────────────────────────────────────────────────────────────────┐   │
│  │  • Validate input                                               │   │
│  │  • Check word limits (5k for Ghost, 10k for King)             │   │
│  │  • Forward to FastAPI backend                                  │   │
│  │  • Fallback to inline processing if backend unavailable       │   │
│  └────────────────────────────────────────────────────────────────┘   │
└────────────────────────────────┬────────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                      FastAPI Backend (Python)                           │
│                         /humanize endpoint                              │
│                                                                          │
│  ┌──────────────────────────────────────────────────────────────────┐ │
│  │                     MODEL SELECTION                               │ │
│  │                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌────────────────────────┐│ │
│  │  │ Ghost Mini   │  │ Ghost Pro    │  │      King Model        ││ │
│  │  │              │  │              │  │   (Advanced Pipeline)  ││ │
│  │  │ GPT-4o-mini  │  │   GPT-4o     │  │                        ││ │
│  │  │ Simple       │  │  Standard    │  │  ┌──────────────────┐ ││ │
│  │  │ Processing   │  │  Processing  │  │  │  1. Chunking     │ ││ │
│  │  │              │  │              │  │  │     (800 words)   │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  2. Preprocess   │ ││ │
│  │  │              │  │              │  │  │     (Rules)      │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  3. GPT-4o       │ ││ │
│  │  │              │  │              │  │  │     Rewrite      │ ││ │
│  │  │              │  │              │  │  │  (King Prompts)  │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  4. Sentence     │ ││ │
│  │  │              │  │              │  │  │     Rhythm       │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  5. Transitions  │ ││ │
│  │  │              │  │              │  │  │     (15%)        │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  6. Hedging      │ ││ │
│  │  │              │  │              │  │  │     (30%)        │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  7. Emphasis     │ ││ │
│  │  │              │  │              │  │  │     (10%)        │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  8. Postprocess  │ ││ │
│  │  │              │  │              │  │  │     (Rules)      │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │  9. Semantic     │ ││ │
│  │  │              │  │              │  │  │     Validation   │ ││ │
│  │  │              │  │              │  │  │     (≥80%)       │ ││ │
│  │  │              │  │              │  │  └────────┬─────────┘ ││ │
│  │  │              │  │              │  │           ▼           ││ │
│  │  │              │  │              │  │  ┌──────────────────┐ ││ │
│  │  │              │  │              │  │  │ 10. Reassembly   │ ││ │
│  │  │              │  │              │  │  │     (Chunks)     │ ││ │
│  │  │              │  │              │  │  └──────────────────┘ ││ │
│  │  └──────────────┘  └──────────────┘  └────────────────────────┘│ │
│  └──────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────┬────────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                      HUMANIZED OUTPUT                                   │
│                   Returned to Frontend                                  │
│                                                                          │
│  • Natural sentence rhythm                                              │
│  • Discourse-level style transfer                                       │
│  • Human linguistic traits                                              │
│  • Semantic meaning preserved                                           │
└─────────────────────────────────────────────────────────────────────────┘


PHRASE INJECTION EXAMPLES
═════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────┐
│  HEDGING PHRASES (30% of sentences)                             │
├─────────────────────────────────────────────────────────────────┤
│  • "to some extent"                                              │
│  • "in practice"                                                 │
│  • "arguably"                                                    │
│  • "from a practical standpoint"                                 │
│  • "in many cases"                                               │
│                                                                   │
│  Example: "This approach works well, in practice."              │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  NATURAL TRANSITIONS (15% between sections)                     │
├─────────────────────────────────────────────────────────────────┤
│  • "That said,"                                                  │
│  • "At the same time,"                                           │
│  • "Still,"                                                      │
│  • "What's interesting here is"                                  │
│  • "What's less obvious is"                                      │
│                                                                   │
│  Example: "That said, there are alternative approaches."        │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  EMPHASIS PHRASES (10% of sentences)                            │
├─────────────────────────────────────────────────────────────────┤
│  • "It's worth noting that"                                      │
│  • "One overlooked aspect is"                                    │
│  • "This point matters more than it first appears"              │
│  • "What stands out here is"                                     │
│                                                                   │
│  Example: "It's worth noting that the results vary."            │
└─────────────────────────────────────────────────────────────────┘


MODEL COMPARISON TABLE
═════════════════════════════════════════════════════════════════

┌──────────────┬──────────────┬──────────────┬─────────────────┐
│   Feature    │  Ghost Mini  │  Ghost Pro   │      King       │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Max Words    │    5,000     │    5,000     │     10,000      │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ LLM Model    │ GPT-4o-mini  │   GPT-4o     │    GPT-4o       │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Temperature  │     0.7      │     0.7      │      0.8        │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Max Tokens   │    2,000     │    2,000     │     4,000       │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Chunking     │      No      │      No      │  Yes (Advanced) │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Phrases      │      No      │      No      │  Yes (4 types)  │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Validation   │      No      │      No      │  Yes (Semantic) │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Speed        │     Fast     │    Medium    │     Slower      │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Quality      │     Good     │  Very Good   │    Excellent    │
├──────────────┼──────────────┼──────────────┼─────────────────┤
│ Cost/1k      │     Low      │    Medium    │      High       │
└──────────────┴──────────────┴──────────────┴─────────────────┘
